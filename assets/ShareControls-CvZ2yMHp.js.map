{"version":3,"file":"ShareControls-CvZ2yMHp.js","sources":["../../src/components/ShareControls.jsx"],"sourcesContent":["import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * ShareControls component for sharing the current mind map link\n * @param {string} url - The URL to share\n */\nconst ShareControls = ({ url, title, description, buttonIcon }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [copied, setCopied] = useState(false);\n\n  // Pre-craft the share message\n  const shareMessage = `Check out this mind map${title ? `: ${title}` : ''} on NeuronWiz!${description ? `\\n${description}` : ''}\\n${url}`;\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(shareMessage);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 1500);\n    } catch (err) {\n      alert('Failed to copy link');\n    }\n  };\n\n  const shareLinks = [\n    {\n      name: 'Twitter/X',\n      href: `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareMessage)}`,\n      icon: (\n        <svg className=\"h-4 w-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M22.46 5.924c-.793.352-1.644.59-2.538.697a4.48 4.48 0 001.962-2.475 8.94 8.94 0 01-2.828 1.082A4.466 4.466 0 0015.5 4c-2.473 0-4.478 2.006-4.478 4.478 0 .351.04.693.116 1.02C7.728 9.337 4.1 7.498 1.67 4.882a4.466 4.466 0 00-.606 2.253c0 1.554.791 2.926 2.001 3.732a4.449 4.449 0 01-2.03-.561v.057c0 2.172 1.546 3.984 3.6 4.394a4.484 4.484 0 01-2.025.077c.571 1.782 2.229 3.079 4.195 3.113A8.965 8.965 0 012 19.54a12.66 12.66 0 006.84 2.007c8.208 0 12.706-6.8 12.706-12.706 0-.193-.004-.386-.013-.577A9.07 9.07 0 0024 4.59a8.89 8.89 0 01-2.54.697z\" /></svg>\n    )\n    },\n    {\n      name: 'LinkedIn',\n      href: `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}&summary=${encodeURIComponent(shareMessage)}`,\n      icon: (\n        <svg className=\"h-4 w-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M19 0h-14c-2.76 0-5 2.24-5 5v14c0 2.76 2.24 5 5 5h14c2.76 0 5-2.24 5-5v-14c0-2.76-2.24-5-5-5zm-11 19h-3v-9h3v9zm-1.5-10.28c-.966 0-1.75-.784-1.75-1.75s.784-1.75 1.75-1.75 1.75.784 1.75 1.75-.784 1.75-1.75 1.75zm13.5 10.28h-3v-4.5c0-1.08-.02-2.47-1.5-2.47-1.5 0-1.73 1.17-1.73 2.38v4.59h-3v-9h2.88v1.23h.04c.4-.76 1.38-1.56 2.84-1.56 3.04 0 3.6 2 3.6 4.59v4.74z\"/></svg>\n      )\n    },\n    {\n      name: 'Facebook',\n      href: `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(shareMessage)}`,\n      icon: (\n        <svg className=\"h-4 w-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M22.675 0h-21.35c-.733 0-1.325.592-1.325 1.326v21.348c0 .733.592 1.326 1.325 1.326h11.495v-9.294h-3.123v-3.622h3.123v-2.672c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.797.143v3.24l-1.918.001c-1.504 0-1.797.715-1.797 1.763v2.313h3.587l-.467 3.622h-3.12v9.294h6.116c.73 0 1.323-.593 1.323-1.326v-21.35c0-.733-.593-1.325-1.326-1.325z\"/></svg>\n      )\n    }\n  ];\n\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"px-3 py-1 flex items-center bg-violet-600 text-white rounded hover:bg-violet-700\"\n        aria-label=\"Share mind map\"\n        data-testid=\"share-dropdown-button\"\n      >\n        {buttonIcon ? buttonIcon : (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 8a3 3 0 00-6 0v4a3 3 0 006 0V8zm-6 8h6\" />\n          </svg>\n        )}\n        Share\n      </button>\n      {isOpen && (\n        <div className=\"absolute z-10 mt-1 right-0 bg-white dark:bg-gray-800 rounded shadow-lg border border-gray-200 dark:border-gray-700\">\n          <ul className=\"py-1 text-sm\">\n            <li>\n              <button\n                onClick={handleCopy}\n                className=\"px-4 py-2 w-full text-left hover:bg-gray-100 dark:hover:bg-gray-700\"\n                data-testid=\"copy-link-button\"\n              >\n                {copied ? 'Copied!' : 'Copy Link'}\n              </button>\n            </li>\n            {shareLinks.map(link => (\n              <li key={link.name}>\n                <a\n                  href={link.href}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"flex items-center px-4 py-2 w-full text-left hover:bg-gray-100 dark:hover:bg-gray-700\"\n                  data-testid={`share-${link.name.toLowerCase()}-button`}\n                >\n                  {link.icon}\n                  {link.name}\n                </a>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nShareControls.propTypes = {\n  url: PropTypes.string.isRequired,\n  title: PropTypes.string,\n  description: PropTypes.string,\n  buttonIcon: PropTypes.node,\n};\n\nexport default ShareControls;\n"],"names":["ShareControls","url","title","description","buttonIcon","isOpen","setIsOpen","useState","copied","setCopied","shareMessage","handleCopy","shareLinks","jsx","jsxs","link","PropTypes"],"mappings":"sDAOA,MAAMA,EAAgB,CAAC,CAAE,IAAAC,EAAK,MAAAC,EAAO,YAAAC,EAAa,WAAAC,KAAiB,CACjE,KAAM,CAACC,EAAQC,CAAS,EAAIC,EAAAA,SAAS,EAAK,EACpC,CAACC,EAAQC,CAAS,EAAIF,EAAAA,SAAS,EAAK,EAGpCG,EAAe,0BAA0BR,EAAQ,KAAKA,CAAK,GAAK,EAAE,iBAAiBC,EAAc;AAAA,EAAKA,CAAW,GAAK,EAAE;AAAA,EAAKF,CAAG,GAEhIU,EAAa,SAAY,CACzB,GAAA,CACI,MAAA,UAAU,UAAU,UAAUD,CAAY,EAChDD,EAAU,EAAI,EACd,WAAW,IAAMA,EAAU,EAAK,EAAG,IAAI,OAC3B,CACZ,MAAM,qBAAqB,CAAA,CAE/B,EAEMG,EAAa,CACjB,CACE,KAAM,YACN,KAAM,yCAAyC,mBAAmBF,CAAY,CAAC,GAC/E,KACEG,EAAA,IAAC,MAAI,CAAA,UAAU,eAAe,KAAK,eAAe,QAAQ,YAAY,SAAAA,MAAC,OAAK,CAAA,EAAE,qiBAAqiB,CAAE,CAAA,CAEznB,EACA,CACE,KAAM,WACN,KAAM,uDAAuD,mBAAmBZ,CAAG,CAAC,YAAY,mBAAmBS,CAAY,CAAC,GAChI,KACEG,EAAA,IAAC,MAAI,CAAA,UAAU,eAAe,KAAK,eAAe,QAAQ,YAAY,SAAAA,MAAC,OAAK,CAAA,EAAE,2WAA0W,CAAE,CAAA,CAE9b,EACA,CACE,KAAM,WACN,KAAM,gDAAgD,mBAAmBZ,CAAG,CAAC,UAAU,mBAAmBS,CAAY,CAAC,GACvH,KACEG,EAAA,IAAC,MAAI,CAAA,UAAU,eAAe,KAAK,eAAe,QAAQ,YAAY,SAAAA,MAAC,OAAK,CAAA,EAAE,oVAAmV,CAAE,CAAA,CAAA,CAGza,EAGE,OAAAC,EAAA,KAAC,MAAI,CAAA,UAAU,WACb,SAAA,CAAAA,EAAA,KAAC,SAAA,CACC,QAAS,IAAMR,EAAU,CAACD,CAAM,EAChC,UAAU,mFACV,aAAW,iBACX,cAAY,wBAEX,SAAA,CAAaD,SACX,MAAI,CAAA,MAAM,6BAA6B,UAAU,eAAe,KAAK,OAAO,QAAQ,YAAY,OAAO,eACtG,SAAAS,EAAAA,IAAC,OAAK,CAAA,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,4CAAA,CAA6C,CACpH,CAAA,EACA,OAAA,CAAA,CAEJ,EACCR,SACE,MAAI,CAAA,UAAU,qHACb,SAACS,EAAAA,KAAA,KAAA,CAAG,UAAU,eACZ,SAAA,CAAAD,MAAC,KACC,CAAA,SAAAA,EAAA,IAAC,SAAA,CACC,QAASF,EACT,UAAU,sEACV,cAAY,mBAEX,WAAS,UAAY,WAAA,CAAA,EAE1B,EACCC,EAAW,IACVG,GAAAF,EAAA,IAAC,KACC,CAAA,SAAAC,EAAA,KAAC,IAAA,CACC,KAAMC,EAAK,KACX,OAAO,SACP,IAAI,sBACJ,UAAU,wFACV,cAAa,SAASA,EAAK,KAAK,YAAa,CAAA,UAE5C,SAAA,CAAKA,EAAA,KACLA,EAAK,IAAA,CAAA,CAAA,CACR,EAVOA,EAAK,IAWd,CACD,CAAA,CAAA,CACH,CACF,CAAA,CAAA,EAEJ,CAEJ,EAEAf,EAAc,UAAY,CACxB,IAAKgB,EAAU,OAAO,WACtB,MAAOA,EAAU,OACjB,YAAaA,EAAU,OACvB,WAAYA,EAAU,IACxB"}